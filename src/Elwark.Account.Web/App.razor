@inject AccountState AccountState
@inject IStringLocalizer<App> L

<CascadingAuthenticationState>
    <CascadingBlazoredModal>
        <Router AppAssembly="@typeof(Program).Assembly">
            <Found Context="routeData">
                <AuthorizeRouteView RouteData="@routeData" DefaultLayout="@typeof(MainLayout)">
                    <NotAuthorized>
                        <RedirectToLogin/>
                    </NotAuthorized>
                    <Authorizing>
                        <PageLoading/>
                    </Authorizing>
                </AuthorizeRouteView>
            </Found>
            <NotFound>
                <LayoutView Layout="@typeof(MainLayout)">
                    <div class="m-t-xxl text-center">
                        <h1 class="error-number">404</h1>
                        <h3 class="m-b">@L["Sorry but we couldnt find this page. It doesn't exist!"]</h3>
                        <NavLink href="">@L["Home"]</NavLink>
                    </div>
                </LayoutView>
            </NotFound>
        </Router>
    </CascadingBlazoredModal>
</CascadingAuthenticationState>

@code {

    protected override Task OnInitializedAsync() =>
        AccountState.InitializeAsync();

}